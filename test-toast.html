<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toast System Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
            margin: 0;
            padding: 20px;
            background: #1e1e1e;
            color: #e0e0e0;
            line-height: 1.6;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: #252525;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        h1 {
            color: #64b5f6;
            text-align: center;
            margin-bottom: 40px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #2c2a34;
            border-radius: 8px;
        }
        .test-section h2 {
            color: #90caf9;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        button {
            background: #333;
            border: 1px solid #444;
            color: #e0e0e0;
            padding: 10px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        button:hover {
            background: #444;
        }
        button:active {
            background: #6449fc;
            color: white;
        }
        .success { background: #4caf50 !important; }
        .error { background: #f44336 !important; }
        .warning { background: #ff9800 !important; }
        .info { background: #2196f3 !important; }
        
        .demo-status {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            border-left: 4px solid #64b5f6;
        }
        
        textarea {
            width: 100%;
            height: 100px;
            background: #333;
            border: 1px solid #444;
            color: #e0e0e0;
            padding: 10px;
            border-radius: 6px;
            resize: vertical;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸš€ Superior Toast System Test</h1>
        <p style="text-align: center; opacity: 0.8; margin-bottom: 40px;">
            ChatGPTê°€ ë§Œë“  ê¸°ë³¸ í† ìŠ¤íŠ¸ vs. Claudeì˜ ì „ë¬¸ê°€ê¸‰ í† ìŠ¤íŠ¸ ì‹œìŠ¤í…œ
        </p>

        <div class="test-section">
            <h2>ğŸ“± ê¸°ë³¸ í† ìŠ¤íŠ¸ íƒ€ì…</h2>
            <div class="button-group">
                <button class="success" onclick="testToast.success('ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!')">Success</button>
                <button class="error" onclick="testToast.error('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤')">Error</button>
                <button class="warning" onclick="testToast.warning('ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤')">Warning</button>
                <button class="info" onclick="testToast.info('ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”')">Info</button>
            </div>
        </div>

        <div class="test-section">
            <h2>âš¡ ì•¡ì…˜ ë²„íŠ¼ì´ ìˆëŠ” í† ìŠ¤íŠ¸</h2>
            <div class="button-group">
                <button onclick="showActionToast()">ì•¡ì…˜ ë²„íŠ¼ í† ìŠ¤íŠ¸</button>
                <button onclick="showConfirmToast()">í™•ì¸ í† ìŠ¤íŠ¸</button>
                <button onclick="showRetryToast()">ì¬ì‹œë„ í† ìŠ¤íŠ¸</button>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ”„ íŠ¹ìˆ˜ ê¸°ëŠ¥ í† ìŠ¤íŠ¸</h2>
            <div class="button-group">
                <button onclick="showProgressToast()">ì§„í–‰ ìƒí™©</button>
                <button onclick="showPersistentToast()">ì§€ì†ì„± í† ìŠ¤íŠ¸</button>
                <button onclick="showMultipleToasts()">ë‹¤ì¤‘ í† ìŠ¤íŠ¸</button>
                <button onclick="testToast.dismissAll()">ëª¨ë‘ ë‹«ê¸°</button>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ“‹ ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€</h2>
            <textarea id="testData" placeholder="ì—¬ê¸°ì— í…ŒìŠ¤íŠ¸í•  ë°ì´í„°ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">%7B%22message%22%3A%22Hello%20World%22%2C%22timestamp%22%3A%222025-08-08%22%7D</textarea>
            <div class="button-group" style="margin-top: 10px;">
                <button onclick="simulateCopy()">ë³µì‚¬ ì‹œë®¬ë ˆì´ì…˜</button>
                <button onclick="simulateDecode()">ë””ì½”ë”© ì‹œë®¬ë ˆì´ì…˜</button>
                <button onclick="simulateError()">ì—ëŸ¬ ì‹œë®¬ë ˆì´ì…˜</button>
                <button onclick="simulateStorage()">ì €ì¥ ì‹œë®¬ë ˆì´ì…˜</button>
            </div>
        </div>

        <div class="demo-status">
            <h3>âœ¨ Superior Features:</h3>
            <ul>
                <li><strong>ì§€ëŠ¥í˜• ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œ</strong> - ìµœëŒ€ 5ê°œ í† ìŠ¤íŠ¸ ë™ì‹œ ê´€ë¦¬</li>
                <li><strong>ì ‘ê·¼ì„± ì§€ì›</strong> - ìŠ¤í¬ë¦° ë¦¬ë” ë° í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜</li>
                <li><strong>ìŠ¤ë§ˆíŠ¸ ì• ë‹ˆë©”ì´ì…˜</strong> - GPU ê°€ì† ë° ì„±ëŠ¥ ìµœì í™”</li>
                <li><strong>ì•¡ì…˜ ì‹œìŠ¤í…œ</strong> - ì¸í„°ë™í‹°ë¸Œ ë²„íŠ¼ê³¼ ì½œë°±</li>
                <li><strong>íƒ€ì… ì§€ì›</strong> - TypeScript ìŠ¤íƒ€ì¼ JSDoc</li>
                <li><strong>ë°˜ì‘í˜• ë””ìì¸</strong> - ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ì ì‘í˜•</li>
                <li><strong>ì§„í–‰ í‘œì‹œê¸°</strong> - ì‹œê°ì  íƒ€ì´ë¨¸ì™€ hover pause</li>
                <li><strong>Glassmorphism UI</strong> - í˜„ëŒ€ì  ë¸”ëŸ¬ íš¨ê³¼</li>
            </ul>
        </div>
    </div>

    <script type="module">
        import toast from './popup/js/toast-system.js';
        
        // Global test object
        window.testToast = toast;
        
        // Action toast examples
        window.showActionToast = () => {
            toast.success('íŒŒì¼ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤', {
                duration: 0,
                actions: [
                    {
                        label: 'ì—´ê¸°',
                        handler: () => toast.info('íŒŒì¼ì„ ì—´ê³  ìˆìŠµë‹ˆë‹¤...')
                    },
                    {
                        label: 'ê³µìœ ',
                        handler: () => toast.info('ê³µìœ  ì˜µì…˜ì„ í‘œì‹œí•©ë‹ˆë‹¤')
                    }
                ]
            });
        };
        
        window.showConfirmToast = () => {
            const confirmId = toast.warning('ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?', {
                duration: 0,
                actions: [
                    {
                        label: 'ì·¨ì†Œ',
                        handler: () => toast.dismiss(confirmId)
                    },
                    {
                        label: 'ì‚­ì œ',
                        handler: () => {
                            toast.dismiss(confirmId);
                            toast.success('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤', { duration: 1000 });
                        }
                    }
                ]
            });
        };
        
        window.showRetryToast = () => {
            let attempts = 0;
            const maxAttempts = 3;
            
            const tryAction = () => {
                attempts++;
                if (attempts < maxAttempts) {
                    toast.error(`ì—°ê²° ì‹¤íŒ¨ (ì‹œë„ ${attempts}/${maxAttempts})`, {
                        actions: [{
                            label: 'ë‹¤ì‹œ ì‹œë„',
                            handler: tryAction
                        }]
                    });
                } else {
                    toast.error('ìµœëŒ€ ì‹œë„ íšŸìˆ˜ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤');
                }
            };
            
            tryAction();
        };
        
        window.showProgressToast = () => {
            const progressId = toast.info('ì—…ë¡œë“œ ì¤‘... (ì·¨ì†Œ ë¶ˆê°€)', {
                persistent: true,
                dismissible: false
            });
            
            setTimeout(() => {
                toast.dismiss(progressId);
                toast.success('ì—…ë¡œë“œ ì™„ë£Œ!', { duration: 1000 });
            }, 3000);
        };
        
        window.showPersistentToast = () => {
            toast.error('ì¤‘ìš”í•œ ì•Œë¦¼: ìˆ˜ë™ìœ¼ë¡œ ë‹«ì•„ì•¼ í•©ë‹ˆë‹¤', {
                duration: 0,
                actions: [{
                    label: 'í™•ì¸',
                    handler: (toastId) => toast.dismiss(toastId)
                }]
            });
        };
        
        window.showMultipleToasts = () => {
            toast.info('ì²« ë²ˆì§¸ í† ìŠ¤íŠ¸');
            setTimeout(() => toast.success('ë‘ ë²ˆì§¸ í† ìŠ¤íŠ¸'), 200);
            setTimeout(() => toast.warning('ì„¸ ë²ˆì§¸ í† ìŠ¤íŠ¸'), 400);
            setTimeout(() => toast.error('ë„¤ ë²ˆì§¸ í† ìŠ¤íŠ¸'), 600);
            setTimeout(() => toast.info('ë‹¤ì„¯ ë²ˆì§¸ í† ìŠ¤íŠ¸'), 800);
            setTimeout(() => toast.success('ì—¬ì„¯ ë²ˆì§¸ í† ìŠ¤íŠ¸ (ëŒ€ê¸°ì—´ ì´ˆê³¼)'), 1000);
        };
        
        // Real-world simulations
        window.simulateCopy = () => {
            const data = document.getElementById('testData').value;
            if (!data.trim()) {
                toast.warning('ë³µì‚¬í•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤', {
                    actions: [{
                        label: 'ì˜ˆì‹œ ì¶”ê°€',
                        handler: () => {
                            document.getElementById('testData').value = '{"example": "data"}';
                        }
                    }]
                });
                return;
            }
            
            navigator.clipboard.writeText(data).then(() => {
                toast.success('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤', {
                    duration: 1000,
                    actions: [{
                        label: 'ë˜ëŒë¦¬ê¸°',
                        handler: () => toast.info('ì‹¤í–‰ ì·¨ì†Œ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤')
                    }]
                });
            });
        };
        
        window.simulateDecode = () => {
            const data = document.getElementById('testData').value;
            if (!data.trim()) {
                toast.warning('ë””ì½”ë”©í•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤');
                return;
            }
            
            const progressId = toast.info('ë””ì½”ë”© ì¤‘...', {
                persistent: true,
                dismissible: false
            });
            
            setTimeout(() => {
                try {
                    const decoded = decodeURIComponent(data);
                    JSON.parse(decoded); // Validate JSON
                    
                    toast.dismiss(progressId);
                    toast.success('ë””ì½”ë”©ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤', {
                        duration: 1000,
                        actions: [{
                            label: 'ê²°ê³¼ ë³´ê¸°',
                            handler: () => {
                                document.getElementById('testData').value = decoded;
                                toast.info('ê²°ê³¼ê°€ í…ìŠ¤íŠ¸ ì˜ì—­ì— í‘œì‹œë˜ì—ˆìŠµë‹ˆë‹¤');
                            }
                        }]
                    });
                } catch (error) {
                    toast.dismiss(progressId);
                    toast.error('ë””ì½”ë”© ì‹¤íŒ¨: ì˜ëª»ëœ í˜•ì‹ì…ë‹ˆë‹¤', {
                        actions: [{
                            label: 'ë‹¤ì‹œ ì‹œë„',
                            handler: () => window.simulateDecode()
                        }]
                    });
                }
            }, 1000);
        };
        
        window.simulateError = () => {
            toast.error('ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì˜¤ë¥˜', {
                duration: 0,
                actions: [
                    {
                        label: 'ì¬ì‹œë„',
                        handler: () => toast.info('ì—°ê²°ì„ ì¬ì‹œë„í•˜ê³  ìˆìŠµë‹ˆë‹¤...')
                    },
                    {
                        label: 'ì˜¤í”„ë¼ì¸ ëª¨ë“œ',
                        handler: () => toast.success('ì˜¤í”„ë¼ì¸ ëª¨ë“œë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤')
                    }
                ]
            });
        };
        
        window.simulateStorage = () => {
            toast.info('ì €ì¥ ì¤‘...', { persistent: true, dismissible: false });
            
            setTimeout(() => {
                toast.dismissAll();
                toast.success('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤', {
                    duration: 1000,
                    actions: [{
                        label: 'í™•ì¸',
                        handler: () => toast.info('ì €ì¥ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤')
                    }]
                });
            }, 1500);
        };
        
        // Welcome message
        setTimeout(() => {
            toast.success('ğŸ‰ Superior Toast Systemì´ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!', {
                duration: 2000,
                actions: [{
                    label: 'í…ŒìŠ¤íŠ¸ ì‹œì‘',
                    handler: () => toast.info('ë²„íŠ¼ë“¤ì„ í´ë¦­í•´ì„œ í† ìŠ¤íŠ¸ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!')
                }]
            });
        }, 500);
    </script>
</body>
</html>